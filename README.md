# タイピングゲーム

小学生向けのシンプルなタイピング練習ゲームです。
漢字とひらがなを見ながら、制限時間内にローマ字でタイピングする練習ができます。

---

## 目次

1. [初回セットアップ](#初回セットアップ)
2. [遊び方](#遊び方)
3. [ファイル構成](#ファイル構成)
4. [単語の追加・変更について](#単語の追加変更について)
5. [設定ファイルについて](#設定ファイルについて)
6. [スコアの計算方法](#スコアの計算方法)
7. [スコア申告コードについて](#スコア申告コードについて)
8. [動作環境](#動作環境)
9. [トラブルシューティング](#トラブルシューティング)

---

## 初回セットアップ

### 通常の手順（推奨）

1. ダウンロードしたフォルダを開きます
2. **「さいしょに.bat」をダブルクリック**して実行します
3. 「初期設定が完了しました！」と表示されたら、何かキーを押して閉じます
4. フォルダ内に「タイピングゲーム」というショートカットが作成されます
5. 以降は「タイピングゲーム」をダブルクリックして遊べます

### バッチファイルが実行できない場合

組織のセキュリティポリシー等でバッチファイル（.bat）が実行できない場合は、以下の手動手順で同様のセットアップが可能です。

#### 「さいしょに.bat」が行う処理

1. **ショートカットの作成**: `index.html` へのショートカット「タイピングゲーム.lnk」を作成し、`icon.ico` をアイコンとして設定
2. **ファイルの非表示化**: 技術的なファイル（`index.html`、`icon.ico`、`config`、`js`、`css`、`README.md`、`LICENSE`）を隠しファイルに設定
3. **本ファイルの削除**: 最終行のREMを削除し、del %0 を有効にすることで、本ファイルが削除されます。
#### 手動でのセットアップ方法

**ショートカットの作成:**
1. `index.html` を右クリック →「ショートカットの作成」
2. 作成されたショートカットを「タイピングゲーム」にリネーム
3. （任意）ショートカットを右クリック →「プロパティ」→「アイコンの変更」→ `icon.ico` を選択

**ファイルの非表示化（任意）:**
1. 非表示にしたいファイル/フォルダを右クリック →「プロパティ」
2. 「隠しファイル」にチェックを入れて「OK」

---

## 遊び方

1. 「タイピングゲーム」ショートカット（または `index.html`）をダブルクリックしてブラウザで開きます
2. 「START GAME」ボタンをクリックしてゲームを開始します
3. 画面に表示される漢字・ひらがなを見て、ローマ字で入力します
4. 正しく入力できると次の単語が表示されます
5. 制限時間（初期設定：60秒）が終わるとゲーム終了です
6. 結果画面に表示される「スコア申告コード（5桁）」を先生に報告してください

### 画面の見方

ゲーム中は以下の情報が表示されます：

| 項目 | 説明 |
|------|------|
| TIME | 残り時間（秒） |
| SCORE | 現在のスコア |
| COMBO | 連続正解数 |
| ACCURACY | 正確率（%） |

---

## ファイル構成

ダウンロードしたフォルダには以下のファイルが含まれています：

```
TypingGame/
├── さいしょに.bat    ← 初回セットアップ用（最初に1回だけ実行）
├── icon.ico          ← ゲームのアイコン
├── index.html        ← ゲーム本体
├── config/
│   └── config.js     ← 設定ファイル
├── js/
│   ├── words.js      ← 単語データ
│   └── game.js       ← ゲームプログラム（変更不要）
├── css/
│   └── style.css     ← デザイン（変更不要）
├── README.md         ← このファイル
└── LICENSE           ← ライセンス情報
```

※「さいしょに.bat」実行後は、技術的なファイルが隠しファイルになります。
　編集する場合は、エクスプローラーの「表示」→「隠しファイル」にチェックを入れてください。

---

## 単語の追加・変更について

### 単語ファイルの場所

`js/words.js` に単語が登録されています。

※ファイルが見えない場合は、エクスプローラーの「表示」→「隠しファイル」にチェックを入れてください。

### 単語の形式

単語は以下の形式で記述されています：

```javascript
var WordData = [
  { kanji: '桜', hiragana: 'さくら' },
  { kanji: '富士山', hiragana: 'ふじさん' },
  { kanji: '学校', hiragana: 'がっこう' },
  // ... 以下続く
];
```

### 単語を追加する方法

1. `js/words.js` をメモ帳（またはテキストエディタ）で開きます
2. 既存の単語を参考に、新しい単語を追加します
3. ファイルを保存します

**追加例：**「運動会」を追加する場合

```javascript
var WordData = [
  { kanji: '桜', hiragana: 'さくら' },
  { kanji: '富士山', hiragana: 'ふじさん' },
  { kanji: '運動会', hiragana: 'うんどうかい' },  // ← 追加
  // ...
];
```

### 注意点

- 各単語の最後には `,`（カンマ）を付けてください（最後の単語は無くても動きます）
- 漢字とひらがなは `'`（シングルクォート）で囲んでください
- ひらがなは **ひらがなのみ** で記述してください（カタカナは使えません）
- 拗音（「きゃ」「しゅ」など）や促音（「っ」）も使用できます

---

## 設定ファイルについて

### 設定ファイルの場所

`config/config.js` でゲームの各種設定を変更できます。

※ファイルが見えない場合は、エクスプローラーの「表示」→「隠しファイル」にチェックを入れてください。

### 変更できる設定

| 設定項目 | 初期値 | 説明 |
|----------|--------|------|
| `pageTitle` | 'タイピングゲーム' | ブラウザのタブに表示されるタイトル |
| `gameName` | 'タイピングゲーム' | ゲーム画面に表示される名前 |
| `reportURL` | '' (空) | スコア報告ページのURL（後述） |
| `gameTime` | 60 | ゲームの制限時間（秒） |
| `baseScore` | 10 | 1単語正解時の基本点数 |
| `timerWarningThreshold` | 10 | 残り時間がこの秒数以下で警告色（赤）になる |

### 設定変更の例

**ゲーム時間を30秒に変更する場合：**

`config/config.js` をメモ帳で開き、以下の行を探して数値を変更します：

```javascript
// 変更前
gameTime: 60,

// 変更後
gameTime: 30,
```

**学校名を表示する場合：**

```javascript
// 変更前
gameName: 'タイピングゲーム',

// 変更後
gameName: '○○小タイピング',
```

### スコア報告ページの設定

`reportURL` にURLを設定すると、結果画面に「コピーして報告ページへ」ボタンが表示されます。
このボタンをクリックすると、スコアコードをクリップボードにコピーし、指定したURLを新しいタブで開きます。

```javascript
// 例：Google フォームを報告ページとして使用する場合
reportURL: 'https://forms.google.com/xxxxx',
```

※URLが空（`''`）の場合、このボタンは表示されません。

---

## スコアの計算方法

### 基本ルール

1単語を正解するごとに以下の点数が加算されます：

```
スコア = 基本点数（10点） + 現在のコンボ数
```

### 計算例

| 正解した単語 | コンボ数 | 獲得スコア | 累計スコア |
|-------------|---------|-----------|-----------|
| 1単語目 | 0 → 1 | 10 + 0 = **10点** | 10点 |
| 2単語目 | 1 → 2 | 10 + 1 = **11点** | 21点 |
| 3単語目 | 2 → 3 | 10 + 2 = **12点** | 33点 |
| 4単語目 | 3 → 4 | 10 + 3 = **13点** | 46点 |
| （ここでミス）| 0 | - | 46点 |
| 5単語目 | 0 → 1 | 10 + 0 = **10点** | 56点 |

### コンボについて

- 正しくタイプすると「コンボ」が1ずつ増えます
- ミスタイプするとコンボは0にリセットされます
- コンボを続けるほど高得点が狙えます

### 結果メッセージ

ゲーム終了時、正確率に応じてメッセージが表示されます：

| 正確率 | メッセージ |
|--------|----------|
| 95%以上 | パーフェクト！素晴らしい！ |
| 85%以上 | とても良くできました！ |
| 70%以上 | よくできました！ |
| 70%未満 | もっと練習しよう！ |

---

## スコア申告コードについて

ゲーム終了時に表示される6桁のコードは、スコアを確認するための暗号化されたコードです。
児童がスコアを自己申告する際に、このコードを先生に報告してもらうことで、スコアの正確性を確認できます。

---

## 動作環境

- 最新のWebブラウザ（Chrome、Edge、Firefox、Safari など）
- インターネット接続は不要です（オフラインで動作します）

---

## トラブルシューティング

### ゲームが動かない場合

- `index.html`（または「タイピングゲーム」ショートカット）をダブルクリックして開いてください
- ブラウザを最新版に更新してみてください

### 日本語入力になってしまう場合

入力欄をクリックしたときに日本語入力（IME）がオンになる場合は、半角英数モードに切り替えてください。
キーボードの「半角/全角」キーを押すと切り替えられます。

### 単語や設定を変更したのに反映されない場合

- ファイルを保存したか確認してください
- ブラウザの更新（F5キーまたはCtrl+R）を試してください
- 記述形式が正しいか確認してください（カンマやクォートの有無など）

### ファイルが見つからない場合

「さいしょに.bat」実行後はファイルが隠しファイルになっています。
エクスプローラーの「表示」メニュー →「隠しファイル」にチェックを入れると表示されます。
ただし、さいしょに.bat最終行のＲＥＭを削除した場合、ファイルは消えますので、再度ダウンロードをする必要があります。

---

## ライセンス

このソフトウェアはMITライセンスの下で公開されています。
詳細は `LICENSE` ファイルをご覧ください。
